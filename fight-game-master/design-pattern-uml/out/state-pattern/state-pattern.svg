<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="347px" preserveAspectRatio="none" style="width:449px;height:347px;" version="1.1" viewBox="0 0 449 347" width="449px" zoomAndPan="magnify"><defs><filter height="300%" id="fsgp6w55o91lw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class FightState--><rect fill="#FEFECE" filter="url(#fsgp6w55o91lw)" height="86.8652" id="FightState" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="182" y="129"/><ellipse cx="226.75" cy="145" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M223.1777,141.2651 L223.1777,139.1069 L230.5571,139.1069 L230.5571,141.2651 L228.0918,141.2651 L228.0918,149.3418 L230.5571,149.3418 L230.5571,151.5 L223.1777,151.5 L223.1777,149.3418 L225.6431,149.3418 L225.6431,141.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="247.25" y="149.5352">FightState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="183" x2="334" y1="161" y2="161"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="183" x2="334" y1="169" y2="169"/><ellipse cx="193" cy="180.9775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="202" y="183.6348">update():void</text><ellipse cx="193" cy="193.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="202" y="196.5898">next():void</text><ellipse cx="193" cy="206.8877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="202" y="209.5449">toGameOverState():void</text><!--class FirstOperationState--><rect fill="#FEFECE" filter="url(#fsgp6w55o91lw)" height="60.9551" id="FirstOperationState" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="6" y="142"/><ellipse cx="21" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M23.4731,164.1431 Q22.8921,164.4419 22.2529,164.5913 Q21.6138,164.7407 20.9082,164.7407 Q18.4014,164.7407 17.0815,163.0889 Q15.7617,161.437 15.7617,158.3159 Q15.7617,155.1865 17.0815,153.5347 Q18.4014,151.8828 20.9082,151.8828 Q21.6138,151.8828 22.2612,152.0322 Q22.9087,152.1816 23.4731,152.4805 L23.4731,155.2031 Q22.8423,154.6221 22.2488,154.3523 Q21.6553,154.0825 21.0244,154.0825 Q19.6797,154.0825 18.9949,155.1492 Q18.3101,156.2158 18.3101,158.3159 Q18.3101,160.4077 18.9949,161.4744 Q19.6797,162.541 21.0244,162.541 Q21.6553,162.541 22.2488,162.2712 Q22.8423,162.0015 23.4731,161.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="35" y="162.5352">FirstOperationState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="146" y1="174" y2="174"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="182.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="26" y="188.6348">context:JFrame</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="146" y1="194.9551" y2="194.9551"/><!--class SecondOperationState--><rect fill="#FEFECE" filter="url(#fsgp6w55o91lw)" height="60.9551" id="SecondOperationState" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="81.5" y="276"/><ellipse cx="96.5" cy="292" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M98.9731,298.1431 Q98.3921,298.4419 97.7529,298.5913 Q97.1138,298.7407 96.4082,298.7407 Q93.9014,298.7407 92.5815,297.0889 Q91.2617,295.437 91.2617,292.3159 Q91.2617,289.1865 92.5815,287.5347 Q93.9014,285.8828 96.4082,285.8828 Q97.1138,285.8828 97.7612,286.0322 Q98.4087,286.1816 98.9731,286.4805 L98.9731,289.2031 Q98.3423,288.6221 97.7488,288.3523 Q97.1553,288.0825 96.5244,288.0825 Q95.1797,288.0825 94.4949,289.1492 Q93.8101,290.2158 93.8101,292.3159 Q93.8101,294.4077 94.4949,295.4744 Q95.1797,296.541 96.5244,296.541 Q97.1553,296.541 97.7488,296.2712 Q98.3423,296.0015 98.9731,295.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="110.5" y="296.5352">SecondOperationState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="82.5" x2="238.5" y1="308" y2="308"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="89.5" y="316.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="101.5" y="322.6348">context:JFrame</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="82.5" x2="238.5" y1="328.9551" y2="328.9551"/><!--class MonsterOperationState--><rect fill="#FEFECE" filter="url(#fsgp6w55o91lw)" height="60.9551" id="MonsterOperationState" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="275" y="276"/><ellipse cx="290" cy="292" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M292.4731,298.1431 Q291.8921,298.4419 291.2529,298.5913 Q290.6138,298.7407 289.9082,298.7407 Q287.4014,298.7407 286.0815,297.0889 Q284.7617,295.437 284.7617,292.3159 Q284.7617,289.1865 286.0815,287.5347 Q287.4014,285.8828 289.9082,285.8828 Q290.6138,285.8828 291.2612,286.0322 Q291.9087,286.1816 292.4731,286.4805 L292.4731,289.2031 Q291.8423,288.6221 291.2488,288.3523 Q290.6553,288.0825 290.0244,288.0825 Q288.6797,288.0825 287.9949,289.1492 Q287.3101,290.2158 287.3101,292.3159 Q287.3101,294.4077 287.9949,295.4744 Q288.6797,296.541 290.0244,296.541 Q290.6553,296.541 291.2488,296.2712 Q291.8423,296.0015 292.4731,295.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="304" y="296.5352">MonsterOperationState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276" x2="437" y1="308" y2="308"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="283" y="316.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="295" y="322.6348">context:JFrame</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276" x2="437" y1="328.9551" y2="328.9551"/><!--class GameOverState--><rect fill="#FEFECE" filter="url(#fsgp6w55o91lw)" height="60.9551" id="GameOverState" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="118" y="8"/><ellipse cx="133" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M135.4731,30.1431 Q134.8921,30.4419 134.2529,30.5913 Q133.6138,30.7407 132.9082,30.7407 Q130.4014,30.7407 129.0815,29.0889 Q127.7617,27.437 127.7617,24.3159 Q127.7617,21.1865 129.0815,19.5347 Q130.4014,17.8828 132.9082,17.8828 Q133.6138,17.8828 134.2612,18.0322 Q134.9087,18.1816 135.4731,18.4805 L135.4731,21.2031 Q134.8423,20.6221 134.2488,20.3523 Q133.6553,20.0825 133.0244,20.0825 Q131.6797,20.0825 130.9949,21.1492 Q130.3101,22.2158 130.3101,24.3159 Q130.3101,26.4077 130.9949,27.4744 Q131.6797,28.541 133.0244,28.541 Q133.6553,28.541 134.2488,28.2712 Q134.8423,28.0015 135.4731,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="147" y="28.5352">GameOverState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="119" x2="238" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="126" y="48.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="138" y="54.6348">context: JFrame</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="119" x2="238" y1="60.9551" y2="60.9551"/><!--class FightStageFrame--><rect fill="#FEFECE" filter="url(#fsgp6w55o91lw)" height="60.9551" id="FightStageFrame" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="274.5" y="8"/><ellipse cx="289.5" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M291.9731,30.1431 Q291.3921,30.4419 290.7529,30.5913 Q290.1138,30.7407 289.4082,30.7407 Q286.9014,30.7407 285.5815,29.0889 Q284.2617,27.437 284.2617,24.3159 Q284.2617,21.1865 285.5815,19.5347 Q286.9014,17.8828 289.4082,17.8828 Q290.1138,17.8828 290.7612,18.0322 Q291.4087,18.1816 291.9731,18.4805 L291.9731,21.2031 Q291.3423,20.6221 290.7488,20.3523 Q290.1553,20.0825 289.5244,20.0825 Q288.1797,20.0825 287.4949,21.1492 Q286.8101,22.2158 286.8101,24.3159 Q286.8101,26.4077 287.4949,27.4744 Q288.1797,28.541 289.5244,28.541 Q290.1553,28.541 290.7488,28.2712 Q291.3423,28.0015 291.9731,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="303.5" y="28.5352">FightStageFrame</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="275.5" x2="399.5" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="282.5" y="48.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="294.5" y="54.6348">curState:FightState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="275.5" x2="399.5" y1="60.9551" y2="60.9551"/><!--link FirstOperationState to FightState--><path d="M147.2383,172.5 C151.9772,172.5 156.7161,172.5 161.455,172.5 " fill="none" id="FirstOperationState-FightState" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="161.573,165.4999,181.573,172.5,161.5729,179.4999,161.573,165.4999" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FightState to SecondOperationState--><path d="M214.5624,232.578 C203.5936,247.5761 192.2829,263.0418 182.8603,275.9257 " fill="none" id="FightState-SecondOperationState" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="209.2256,228.0171,226.6822,216.006,220.526,236.2816,209.2256,228.0171" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FightState to MonsterOperationState--><path d="M302.4376,232.578 C313.4064,247.5761 324.7171,263.0418 334.1397,275.9257 " fill="none" id="FightState-MonsterOperationState" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="296.474,236.2816,290.3178,216.006,307.7744,228.0171,296.474,236.2816" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GameOverState to FightState--><path d="M196.8536,69.2423 C204.3639,81.822 213.331,96.8419 222.0691,111.4782 " fill="none" id="GameOverState-FightState" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="228.2589,108.1906,232.5008,128.9514,216.2382,115.3672,228.2589,108.1906" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FightStageFrame to FightState--><path d="M312.7054,80.5566 C303.6234,95.9615 293.3316,113.4186 284.1742,128.9514 " fill="none" id="FightStageFrame-FightState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="319.3758,69.2423,312.8829,72.3795,313.2814,79.5795,319.7743,76.4424,319.3758,69.2423" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml state-pattern

interface FightState {
  + update():void
  + next():void
  + toGameOverState():void
}

class FirstOperationState {
  - context:JFrame
}

class SecondOperationState {
  - context:JFrame
}

class MonsterOperationState {
  - context:JFrame
}

class GameOverState {
  - context: JFrame
}

FightState <|.left. FirstOperationState
FightState <|.. SecondOperationState
FightState <|.. MonsterOperationState
GameOverState  ..|> FightState





class FightStageFrame {
  - curState:FightState
}

FightStageFrame o- - FightState

@enduml

PlantUML version 1.2018.12(Sun Oct 21 18:15:15 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>