<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="226px" preserveAspectRatio="none" style="width:501px;height:226px;" version="1.1" viewBox="0 0 501 226" width="501px" zoomAndPan="magnify"><defs><filter height="300%" id="f23jjc9oc4by4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class StagePartnerMediator--><rect fill="#FEFECE" filter="url(#f23jjc9oc4by4)" height="86.8652" id="StagePartnerMediator" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="6" y="8"/><ellipse cx="21" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M17.4277,20.2651 L17.4277,18.1069 L24.8071,18.1069 L24.8071,20.2651 L22.3418,20.2651 L22.3418,28.3418 L24.8071,28.3418 L24.8071,30.5 L17.4277,30.5 L17.4277,28.3418 L19.8931,28.3418 L19.8931,20.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="35" y="28.5352">StagePartnerMediator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="161" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="161" y1="48" y2="48"/><ellipse cx="17" cy="59.9775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="26" y="62.6348">sendAttack():void</text><ellipse cx="17" cy="72.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="26" y="75.5898">register()</text><ellipse cx="17" cy="85.8877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="26" y="88.5449">unregister()</text><!--class StagePartner--><rect fill="#FEFECE" filter="url(#f23jjc9oc4by4)" height="60.9551" id="StagePartner" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="197" y="21"/><ellipse cx="252.25" cy="37" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M252.3633,32.5981 L251.2095,37.6699 L253.5254,37.6699 Z M250.8691,30.3569 L253.8657,30.3569 L257.2109,42.75 L254.7622,42.75 L253.9985,39.687 L250.7197,39.687 L249.9727,42.75 L247.5239,42.75 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="272.75" y="41.5352">StagePartner</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="198" x2="388" y1="53" y2="53"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="205" y="61.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="217" y="67.6348">mediator:StagePartnerMediator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="198" x2="388" y1="73.9551" y2="73.9551"/><!--class StageFightMediator--><rect fill="#FEFECE" filter="url(#f23jjc9oc4by4)" height="60.9551" id="StageFightMediator" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="13.5" y="155"/><ellipse cx="28.5" cy="171" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M30.9731,177.1431 Q30.3921,177.4419 29.7529,177.5913 Q29.1138,177.7407 28.4082,177.7407 Q25.9014,177.7407 24.5815,176.0889 Q23.2617,174.437 23.2617,171.3159 Q23.2617,168.1865 24.5815,166.5347 Q25.9014,164.8828 28.4082,164.8828 Q29.1138,164.8828 29.7612,165.0322 Q30.4087,165.1816 30.9731,165.4805 L30.9731,168.2031 Q30.3423,167.6221 29.7488,167.3523 Q29.1553,167.0825 28.5244,167.0825 Q27.1797,167.0825 26.4949,168.1492 Q25.8101,169.2158 25.8101,171.3159 Q25.8101,173.4077 26.4949,174.4744 Q27.1797,175.541 28.5244,175.541 Q29.1553,175.541 29.7488,175.2712 Q30.3423,175.0015 30.9731,174.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="42.5" y="175.5352">StageFightMediator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="14.5" x2="153.5" y1="187" y2="187"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="21.5" y="195.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="33.5" y="201.6348">partners:Set</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="14.5" x2="153.5" y1="207.9551" y2="207.9551"/><!--class CommanderPartner--><rect fill="#FEFECE" filter="url(#f23jjc9oc4by4)" height="48" id="CommanderPartner" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="345.5" y="161.5"/><ellipse cx="360.5" cy="177.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M362.9731,183.6431 Q362.3921,183.9419 361.7529,184.0913 Q361.1138,184.2407 360.4082,184.2407 Q357.9014,184.2407 356.5815,182.5889 Q355.2617,180.937 355.2617,177.8159 Q355.2617,174.6865 356.5815,173.0347 Q357.9014,171.3828 360.4082,171.3828 Q361.1138,171.3828 361.7612,171.5322 Q362.4087,171.6816 362.9731,171.9805 L362.9731,174.7031 Q362.3423,174.1221 361.7488,173.8523 Q361.1553,173.5825 360.5244,173.5825 Q359.1797,173.5825 358.4949,174.6492 Q357.8101,175.7158 357.8101,177.8159 Q357.8101,179.9077 358.4949,180.9744 Q359.1797,182.041 360.5244,182.041 Q361.1553,182.041 361.7488,181.7712 Q362.3423,181.5015 362.9731,180.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="374.5" y="182.0352">CommanderPartner</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="346.5" x2="489.5" y1="193.5" y2="193.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="346.5" x2="489.5" y1="201.5" y2="201.5"/><!--class MonsterPartner--><rect fill="#FEFECE" filter="url(#f23jjc9oc4by4)" height="48" id="MonsterPartner" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="190" y="161.5"/><ellipse cx="205" cy="177.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M207.4731,183.6431 Q206.8921,183.9419 206.2529,184.0913 Q205.6138,184.2407 204.9082,184.2407 Q202.4014,184.2407 201.0815,182.5889 Q199.7617,180.937 199.7617,177.8159 Q199.7617,174.6865 201.0815,173.0347 Q202.4014,171.3828 204.9082,171.3828 Q205.6138,171.3828 206.2612,171.5322 Q206.9087,171.6816 207.4731,171.9805 L207.4731,174.7031 Q206.8423,174.1221 206.2488,173.8523 Q205.6553,173.5825 205.0244,173.5825 Q203.6797,173.5825 202.9949,174.6492 Q202.3101,175.7158 202.3101,177.8159 Q202.3101,179.9077 202.9949,180.9744 Q203.6797,182.041 205.0244,182.041 Q205.6553,182.041 206.2488,181.7712 Q206.8423,181.5015 207.4731,180.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="219" y="182.0352">MonsterPartner</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="191" x2="309" y1="193.5" y2="193.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="191" x2="309" y1="201.5" y2="201.5"/><!--link StagePartnerMediator to StageFightMediator--><path d="M84,115.4569 C84,129.2177 84,143.1501 84,154.9257 " fill="none" id="StagePartnerMediator-StageFightMediator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="77.0001,115.006,84,95.006,91.0001,115.0059,77.0001,115.006" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StagePartnerMediator to StagePartner--><path d="M167.4875,51.5 C177.264,51.5 187.0406,51.5 196.8171,51.5 " fill="none" id="StagePartnerMediator-StagePartner" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="162.375,51.5,171.375,55.5,167.375,51.5,171.375,47.5,162.375,51.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StagePartner to CommanderPartner--><path d="M335.579,97.1447 C355.5953,118.6022 378.656,143.3232 395.2853,161.1498 " fill="none" id="StagePartner-CommanderPartner" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="330.2014,101.6419,321.6775,82.2423,340.4387,92.0922,330.2014,101.6419" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StagePartner to MonsterPartner--><path d="M276.9355,101.5615 C270.3992,121.9305 263.1456,144.5347 257.8139,161.1498 " fill="none" id="StagePartner-MonsterPartner" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="270.3586,99.147,283.1349,82.2423,283.6891,103.4247,270.3586,99.147" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StageFightMediator to CommanderPartner--><path d="M125.6525,154.905 C144.2169,143.0986 166.9553,131.0055 189.5,125 C241.4656,111.1572 258.479,111.3669 310.5,125 C335.7301,131.612 361.2845,145.6257 381.1444,158.502 " fill="none" id="StageFightMediator-CommanderPartner" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="385.5501,161.4003,380.2295,153.1123,381.3729,158.6524,375.8328,159.7958,385.5501,161.4003" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StageFightMediator to MonsterPartner--><path d="M154.6797,185.5 C164.6147,185.5 174.5497,185.5 184.4847,185.5 " fill="none" id="StageFightMediator-MonsterPartner" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="189.6801,185.5,180.6801,181.5,184.6801,185.5,180.6801,189.5,189.6801,185.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml mediator-pattern

interface StagePartnerMediator {
  + sendAttack():void
  + register()
  + unregister()
}

abstract class StagePartner {
  - mediator:StagePartnerMediator
}

class StageFightMediator {
  - partners:Set
}

class CommanderPartner {

}

class MonsterPartner {

}

StagePartnerMediator <|- - StageFightMediator

StagePartnerMediator <-left-StagePartner

StagePartner <|- - CommanderPartner
StagePartner <|-= MonsterPartner

StageFightMediator -right->CommanderPartner
StageFightMediator -right->MonsterPartner

@enduml

PlantUML version 1.2018.12(Sun Oct 21 18:15:15 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>